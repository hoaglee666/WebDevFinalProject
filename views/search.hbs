<h1 class="mb-5 text-center text-primary font-weight-bold display-4">üîç Full-Text Search</h1>

<form action="/search" method="POST" class="mb-4">
    <div class="input-group shadow-sm">
        <input 
            type="text" 
            name="query" 
            class="form-control form-control-lg" 
            placeholder="Type keywords to search..." 
            value="{{query}}" 
            required
        >
        <button type="submit" class="btn btn-primary btn-lg">
            <i class="bi bi-search"></i> Search
        </button>
    </div>
</form>

{{#if error}}
<div class="alert alert-danger text-center mt-3" role="alert">
    <i class="bi bi-exclamation-triangle"></i> {{error}}
</div>
{{/if}}

{{#if results}}
<h2 class="mb-4 text-dark text-center display-4">Search Results:</h2>
<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    {{#each results}}
    <div class="col-md-6 mb-4 d-flex">
        <div class="card h-100 flex-fill">
            <a href="/articles/detail?id={{NewsID}}" class="text-decoration-none">
                <img 
                    src="/static/imgs/news/{{NewsID}}/main_thumbs.jpg" 
                    alt="{{Title}}" 
                    class="card-img-top img-fluid rounded-top" 
                    title="{{Title}}"
                >
            </a>
            <div class="card-body">
                <span class="badge bg-success mb-2">{{CatName}}</span>
                <h5 class="card-title text-dark fw-bold">{{Title}}</h5>
                <p class="card-text text-muted small">{{Abstract}}</p>
                <a href="/articles/detail?id={{NewsID}}" class="btn btn-outline-primary btn-sm">
                    Read More </i>
                </a>
            </div>
        </div>
    </div>
    {{/each}}
</div>
{{else if query}}
<div class="alert alert-info text-center mt-3" role="alert">
    <i class="bi bi-info-circle"></i> No results found for "<strong>{{query}}</strong>"
</div>
{{/if}}
